<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Implementasi Sistem Palang Parkir Pintar ‚Äî Dokumentasi</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css">
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#0ea5a4;--text:#e6eef6;--border:#2a3f5f;--code-bg:#051015}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;background:linear-gradient(180deg,#061224 0%, #071329 100%);color:var(--text)}
    .container{display:flex;min-height:100vh}
    aside{width:280px;padding:28px 20px;background:rgba(15,23,36,0.5);border-right:1px solid var(--border);overflow-y:auto;position:sticky;top:0;max-height:100vh}
    aside h3{margin:0 0 16px 0;font-size:13px;text-transform:uppercase;color:#8fa6bf;letter-spacing:0.5px}
    aside ul{list-style:none;padding:0;margin:0}
    aside li{margin:8px 0}
    aside a{color:var(--text);text-decoration:none;font-size:13px;padding:6px 8px;border-radius:4px;display:block;transition:all 0.2s}
    aside a:hover{background:rgba(14,165,164,0.2);color:var(--accent)}
    main{flex:1;overflow-y:auto}
    .wrap{max-width:900px;margin:0 auto;padding:28px}
    header{display:flex;align-items:center;gap:20px;margin-bottom:32px;padding-bottom:24px;border-bottom:1px solid var(--border)}
    header img{height:72px;width:72px;border-radius:8px;object-fit:cover;box-shadow:0 4px 12px rgba(14,165,164,0.2)}
    .header-content h1{margin:0;font-size:28px;font-weight:600;line-height:1.2}
    .header-content p{margin:4px 0 0 0;color:#9fb2c9;font-size:14px}
    .content{margin-top:0;line-height:1.8}
    .content h2{font-size:22px;margin:32px 0 16px 0;color:var(--accent);border-left:3px solid var(--accent);padding-left:12px}
    .content h3{font-size:16px;margin:24px 0 12px 0;color:var(--text);font-weight:600}
    .content p{margin:12px 0;color:#d2e7ff}
    .content a{color:var(--accent);text-decoration:none;border-bottom:1px dotted var(--accent)}
    .content a:hover{opacity:0.7}
    pre{background:var(--code-bg);padding:16px;border-radius:8px;overflow:auto;border:1px solid var(--border);margin:16px 0}
    code{font-family:'Courier New',monospace;font-size:13px}
    img{max-width:100%;height:auto;border-radius:8px;margin:16px 0;box-shadow:0 4px 12px rgba(0,0,0,0.3)}
    table{width:100%;border-collapse:collapse;margin:20px 0;border:1px solid var(--border);border-radius:8px;overflow:hidden}
    th{background:rgba(14,165,164,0.1);color:var(--accent);font-weight:600;padding:12px;text-align:left;border-bottom:2px solid var(--border)}
    td{padding:12px;border-bottom:1px solid var(--border);color:#d2e7ff}
    tr:last-child td{border-bottom:none}
    tr:hover{background:rgba(14,165,164,0.05)}
    footer{margin-top:40px;padding-top:20px;border-top:1px solid var(--border);color:#8fa6bf;font-size:13px;text-align:center}
    @media (max-width:768px){
      .container{flex-direction:column}
      aside{width:100%;height:auto;position:static;border-right:none;border-bottom:1px solid var(--border);padding:16px}
      .wrap{padding:16px}
      header{flex-direction:column;text-align:center}
      .content h2{border-left:none;padding-left:0;text-align:left}
    }
  </style>
</head>
<body>
  <div class="container">
    <aside>
      <h3>üìã Daftar Isi</h3>
      <ul id="toc"></ul>
      <h3 style="margin-top:24px">üîó Links</h3>
      <ul>
        <li><a href="README.md">üìÑ README.md</a></li>
        <li><a href="robot.ino">‚öôÔ∏è robot.ino</a></li>
        <li><a href="servo_publisher.py">üêç servo_publisher.py</a></li>
        <li><a href="subscriber_display_servo.py">üêç subscriber_display_servo.py</a></li>
      </ul>
    </aside>
    <main>
      <div class="wrap">
        <header>
          <img src="Header.jpeg" alt="Header">
          <div class="header-content">
            <h1>üöß Sistem Palang Parkir Pintar</h1>
            <p>Implementasi ROS dengan Arduino & Motor Servo</p>
            <p style="margin-top:8px;font-size:12px;color:#6b8ab3">Project MK Robotika Medis</p>
          </div>
        </header>

        <article class="content" id="content">
          <p>Memuat dokumentasi‚Ä¶</p>
        </article>

        <footer>
          <p>Generated dari <strong>README.md</strong> ‚Ä¢ Powered by <a href="https://marked.js.org/">marked.js</a> & <a href="https://highlightjs.org/">highlight.js</a></p>
        </footer>
      </div>
    </main>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
  <script>
    marked.setOptions({gfm:true,breaks:false,headerIds:true,mangle:false});

    function generateTOC(html) {
      const temp=document.createElement('div');
      temp.innerHTML=html;
      const headings=temp.querySelectorAll('h2,h3');
      const toc=document.getElementById('toc');
      toc.innerHTML='';
      
      let currentSection=null;
      headings.forEach((h,i)=>{
        const text=h.textContent;
        const id=h.id||`heading-${i}`;
        h.id=id;
        
        const li=document.createElement('li');
        const a=document.createElement('a');
        a.href=`#${id}`;
        a.textContent=text;
        a.style.paddingLeft=h.tagName==='H3'?'20px':'0';
        li.appendChild(a);
        toc.appendChild(li);
      });
    }

    fetch('README.md').then(r=>{
      if(!r.ok)throw new Error('fetch-failed');
      return r.text();
    }).then(md=>{
      const html=marked.parse(md);
      document.getElementById('content').innerHTML=html;
      generateTOC(html);
      document.querySelectorAll('pre code').forEach(el=>hljs.highlightElement(el));
    }).catch(err=>{
      document.getElementById('content').innerHTML='<p style="color:#ffb4b4">‚ö†Ô∏è Gagal memuat README.md. Jalankan via HTTP server atau GitHub Pages.</p>';
      console.error(err);
    });
  </script>
</body>
</html>
